<div class="span-22 prepend-1 append-1 last">
	<div class="portlet -lutece-border-radius append-bottom">
		<h2>#i18n{mylutece.xpage.login_form.pageTitle}</h2>
		
		<#if list_authentications?exists>
			<form method="post" action="${url_dologin}">
			<div class="hide">
				<input type="hidden" name="page" value="mylutece" />
				<input type="hidden" name="action" value="dologin" />
			</div>
			<br/>
			<font color="red"><b>${error_message}</b><br/>${error_detail}</font>
			<br/>
			<br/>
			<#-- first display delegated authentications [oauth etc...]-->
			<#list list_authentications as authentication>
				<#if authentication.delegatedAuthentication>
						<a href="${url_dologin}?page=mylutece&action=dologin&auth_provider=${authentication.name}">
						<img src="${authentication.iconUrl}" title="${authentication.authServiceName} " alt="${authentication.authServiceName} " />
						</a>
				</#if>
			</#list>
			<hr/>
			<#-- display internal authentications [such as database]-->
			<#assign bHasInternalAuth = false />
			<#list list_authentications as authentication>
				<#if !authentication.externalAuthentication && !authentication.delegatedAuthentication>
						<#if !bHasInternalAuth>
							<#assign bHasInternalAuth = true />
						</#if>
						<#if auth_provider?has_content && auth_provider = authentication.name>
							<input type="radio" name="auth_provider" value="${authentication.name}" checked="checked"/>${authentication.authServiceName}
						<#else>
							<input type="radio" name="auth_provider" value="${authentication.name}" />${authentication.authServiceName}
						</#if>
				</#if>
			</#list>
			
			<#if bHasInternalAuth>
			<table width="50%">
			 <tr>
				<td align="right" ><b>#i18n{mylutece.xpage.login_form.labelAccessCode} : </b></td>
				<td align="left" ><input type="text" name="username" class="-lutece-input -lutece-border-radius-mini" /></td>
			 </tr>
			 <tr>
				<td align="right" ><b>#i18n{mylutece.xpage.login_form.labelPassword} </b></td>
				<td align="left" ><input type="password" name="password" class="-lutece-input -lutece-border-radius-mini" /></td>
			 </tr>
			</table>
			<br/><br/>
			<input type="submit" name="Submit" value="#i18n{mylutece.xpage.login_form.labelButton}" class="-lutece-input -lutece-border-radius-mini" />
			</form>
			</#if>
		</#if>
	</div>
</div>